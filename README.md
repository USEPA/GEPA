# U.S. Gridded Methane Emissions Inventory (gridded GHGI)

The gridded U.S. methane greenhouse gas inventory (gridded methane GHGI) includes time series of annual methane emission maps with 0.1° x 0.1° (~ 10 x 10 km) spatial and monthly temporal resolution for the contiguous United State (CONUS). This gridded methane inventory is designed to be consistent with methane emissions from the _U.S. Inventory of U.S. Greenhouse Gas Emissions and Sinks_ (U.S. GHGI) [[link]](https://www.epa.gov/ghgemissions/inventory-us-greenhouse-gas-emissions-and-sinks). For more information: https://www.epa.gov/ghgemissions/us-gridded-methane-emissions. 

********
## Useage

The gridded methane GHGI dataset can be used by researchers to more directly compare the national U.S. GHGI with emission estimates from more regional and local observations of atmospheric methane. Users of the gridded GHGI are asked to cite the latest reference (_Maasakkers et al., 2023_ [[link]](https://pubs.acs.org/doi/10.1021/acs.est.3c05138) in their publications. Error estimates are also described in that reference. Manuscripts describing the gridded GHGI have been peer-reviewed, but are not part of the same annual expert and public review processes as the U.S. EPA National and State-level Inventory.

********
## Versions

See the release page for the release history and the latest stable version of the gridded methane GHGI. 

v1.0 - This code accompanies the peer-reviewed manuscript _Maasakkers, J. D., et al., A gridded inventory of 2012-2018 U.S. anthropogenic methane emissions, ES&T (2023)_ [[link]](https://pubs.acs.org/doi/full/10.1021/acs.est.3c05138). This product is an update to the origianl gridded methane GHGI, described previously in _Maasakkers et al. (2016)_ [[link]](https://pubs.acs.org/doi/10.1021/acs.est.6b02878). Final gridded data associated with this release are avaialble on Zenodo: https://zenodo.org/records/8367082. Please cite the original manuscript when using the code or data generated by this repository: _Maasakkers et al. (2023)_ [[link]](https://pubs.acs.org/doi/full/10.1021/acs.est.3c05138)

********
## Guidance for Getting Started

**Setting up your local environment and .env file**

Option:
If starting fresh, install the bare-bones of conda that uses the conda-forge channel for downloading packages, called miniforge:
https://github.com/conda-forge/miniforge

For a deeper dive, look at micromamba: https://mamba.readthedocs.io/en/latest/installation/micromamba-installation.html

Once conda is installed, create the environment.
- open PowerShell or bash.
- if conda was just installed, run:
```conda init```

close and reopen your shell to complete the changes.
create your environment
- Clone the GEPA repo and then navigate to the GEPA folder by running (update your path):
```cd 'path/to/repo/'```
- Use the command ls to list the files in that directory and make sure it includes the environment.yml
- then create the environment, run:
```conda env create --file environment.yml```

This will install the conda environment “gch4i” into your conda environments with the packages needed to run the notebooks.


**For Internal Users Only**

Note that due to the use of select proprietary data sources, the input data are not published to the public repository. Please contact EPA to request access. 

For users with internal access, each user will need to add a .env file to your local version of the repo. In VS Code, right click in the explorer (generally located on the left side of your VS Code window) and select "new file." Name this file ".env". 

Inside your .env file, input this text:

```V3_DATA_PATH = "YOUR_USER_PATH_TO_V3_DATA"```

Replace the text YOUR_USER_PATH_TO_V3_DATA with your actual local path. For example,

```"/Users/username/Library/CloudStorage/OneDrive-SharedLibraries-EnvironmentalProtectionAgency(EPA)/Gridded CH4 Inventory - Task 2/ghgi_v3_working/v3_data"```

Save your updated .env file and everything should now point to your personal v3 data path.

********
## Contributing
To report an error, please open an issue on GitHub

********
## Citations
v1.0 release: Joannes D. Maasakkers, Erin E. McDuffie, Melissa P. Sulprizio, Candice Chen, Maggie Schultz, Lily Brunelle, Ryan Thrush, John Steller, Christopher Sherry, Daniel J. Jacob, Seongeun Jeong, Bill Irving, and Melissa Weitz: A Gridded Inventory of Annual 2012–2018 U.S. Anthropogenic Methane Emissions. _Environmental Science & Technology_ 2023 57 (43), 16276-16288
DOI: 10.1021/acs.est.3c05138
